"use strict";(self.webpackChunkllmos_ai=self.webpackChunkllmos_ai||[]).push([[1179],{5850:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>c,toc:()=>l});var i=n(4848),t=n(8453);const a={sidebar_position:1,title:"Enable GPU Stack"},r=void 0,c={id:"user_guide/gpu_management/enable-gpu-stack",title:"Enable GPU Stack",description:"LLMOS GPU Stack is a toolset that brings virtual GPUs (vGPU) and multi-accelerator support to the LLMOS platform. It improves GPU resource usage and flexibility.",source:"@site/docs/user_guide/gpu_management/enable-gpu-stack.md",sourceDirName:"user_guide/gpu_management",slug:"/user_guide/gpu_management/enable-gpu-stack",permalink:"/docs/user_guide/gpu_management/enable-gpu-stack",draft:!1,unlisted:!1,editUrl:"https://github.com/llmos-ai/llmos.ai/tree/main/docs/docs/user_guide/gpu_management/enable-gpu-stack.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Enable GPU Stack"},sidebar:"tutorialSidebar",previous:{title:"GPU Management",permalink:"/docs/category/gpu-management"},next:{title:"GPU Devices",permalink:"/docs/user_guide/gpu_management/gpu-devices"}},o={},l=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"GPU Stack Components",id:"gpu-stack-components",level:2},{value:"Configurations",id:"configurations",level:2},{value:"GPU Operator",id:"gpu-operator",level:3},{value:"Device Manager",id:"device-manager",level:3},{value:"Monitoring and Status",id:"monitoring-and-status",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",input:"input",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:(0,i.jsx)(s.a,{href:"https://github.com/llmos-ai/llmos-gpu-stack/tree/main",children:"LLMOS GPU Stack"})})," is a toolset that brings virtual GPUs (vGPU) and multi-accelerator support to the LLMOS platform. It improves GPU resource usage and flexibility."]}),"\n",(0,i.jsx)(s.p,{children:"This guide provides a quick overview of the GPU Stack architecture, its components, and basic configurations."}),"\n",(0,i.jsx)(s.admonition,{type:"note",children:(0,i.jsx)(s.p,{children:"The LLMOS GPU Stack is always enabled because it is a core part of the platform."})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"cluster-tools",src:n(7599).A+"",width:"3184",height:"552"})}),"\n",(0,i.jsxs)(s.admonition,{type:"info",children:[(0,i.jsxs)(s.p,{children:["Currently supported GPUs:\n","\u2705"," Nvidia CUDA"]}),(0,i.jsx)(s.p,{children:"Planned future support:"}),(0,i.jsxs)(s.ul,{className:"contains-task-list",children:["\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","AMD ROCm"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Ascend CANN"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","Cambricon MLU"]}),"\n",(0,i.jsxs)(s.li,{className:"task-list-item",children:[(0,i.jsx)(s.input,{type:"checkbox",disabled:!0})," ","HYGON DCU"]}),"\n"]})]}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsx)(s.p,{children:"For GPU Stack to work correctly, ensure the following requirements are met:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nvidia Driver"}),": Install the Nvidia driver on nodes with GPU devices. See the ",(0,i.jsx)(s.a,{href:"https://docs.nvidia.com/datacenter/tesla/tesla-installation-notes/index.html",children:"Nvidia GPU Driver Installation Guide"}),".","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["The GPU must have a ",(0,i.jsx)(s.a,{href:"https://developer.nvidia.com/cuda-gpus",children:"CUDA Compute Capability"})," of 7.5 or higher."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"gpu-stack-components",children:"GPU Stack Components"}),"\n",(0,i.jsxs)(s.p,{children:["When the GPU Stack is active, the following components are installed in the ",(0,i.jsx)(s.code,{children:"llmos-gpu-stack-system"})," namespace:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nvidia GPU Operator"}),": Manages Nvidia GPU resources. ",(0,i.jsx)(s.a,{href:"https://github.com/NVIDIA/gpu-operator",children:"Learn more"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"GPU Device Plugin"}),": A DaemonSet that exposes and manages GPU devices. ",(0,i.jsx)(s.a,{href:"https://kubernetes.io/docs/concepts/extend-kubernetes/compute-storage-net/device-plugins/",children:"Learn more"}),"."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"GPU Device Manager"}),": A Deployment that manages LLMOS GPU custom resource definitions (CRDs)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Volcano Scheduler"}),": A plugin for batch and gang scheduling of workloads with GPU resources. ",(0,i.jsx)(s.a,{href:"https://volcano.sh/",children:"Learn more"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"configurations",children:"Configurations"}),"\n",(0,i.jsx)(s.h3,{id:"gpu-operator",children:"GPU Operator"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Enabled NVIDIA GPU Operator"}),": The Nvidia GPU Operator is enabled by default to manage Nvidia GPU devices."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"vGPU Count"}),": Sets the maximum number of vGPU instances that can be created per GPU. Default: ",(0,i.jsx)(s.code,{children:"10"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"gpu-stack-edit-gpu-operator",src:n(485).A+"",width:"3094",height:"602"})}),"\n",(0,i.jsx)(s.h3,{id:"device-manager",children:"Device Manager"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Resource Settings"}),": Configure resource requests and limits for GPU device manager pod."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"gpu-stack-edit-device-manager",src:n(3370).A+"",width:"3088",height:"580"})}),"\n",(0,i.jsx)(s.h2,{id:"monitoring-and-status",children:"Monitoring and Status"}),"\n",(0,i.jsxs)(s.p,{children:["Once the GPU Stack is ",(0,i.jsx)(s.code,{children:"active"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Check the status of GPU Stack components in the ",(0,i.jsx)(s.code,{children:"llmos-gpu-stack-system"})," namespace."]}),"\n",(0,i.jsxs)(s.li,{children:["Ensure the ",(0,i.jsx)(s.code,{children:"Nvidia Cluster Policies"})," in the ",(0,i.jsx)(s.strong,{children:"GPU Management"})," is marked as ",(0,i.jsx)(s.code,{children:"Ready"}),"."]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"From the dashboard, you can monitor the GPU usage and status via:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Overview page"}),": GPU metrics are displayed on the overview page when the ",(0,i.jsx)(s.a,{href:"../monitoring/enable-monitoring",children:"LLMOS Monitoring"})," is enabled.\n",(0,i.jsx)(s.img,{alt:"overview-gpu-metrics",src:n(7653).A+"",width:"3406",height:"1736"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Nodes Page"}),": For nodes with GPU devices, the GPU device count and metrics are displayed on the Nodes page.\n",(0,i.jsx)(s.img,{alt:"nodes",src:n(5634).A+"",width:"3112",height:"988"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"GPU Devices"}),": The ",(0,i.jsx)(s.a,{href:"/docs/user_guide/gpu_management/gpu-devices#gpu-device-details",children:"GPU Devices"})," page will show the status and details of all GPU devices."]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},7599:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/cluster-tools-gpu-stack-ab6ac4697e8f00ebb1a817d39b367428.png"},3370:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/gpu-stack-edit-device-manager-cc8df966f5af8cb6cc18eab2143010dc.png"},485:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/gpu-stack-edit-gpu-operator-9c85fb6c23dbcb370ef80acf5f0c8868.png"},5634:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/nodes-b50e33291aece54b989702b03254603e.png"},7653:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/overview-gpu-metrics-c4cadfcb6c0abb86074e981dad8a611b.png"},8453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>c});var i=n(6540);const t={},a=i.createContext(t);function r(e){const s=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(a.Provider,{value:s},e.children)}}}]);